<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="map[name:Norman Steger]">
<meta name="description" content="Or: Why I hate unit testing in Angular Every good article needs to start with a click-baity title that polarizes the masses. And thus I can already feel an army of enfuriated Angular developers breathing down my neck as I write these lines.
Since you naturally practice TDD, bcause you&amp;rsquo;re a responsible professional (even though you probably don&amp;rsquo;t), you will know that testing logic Angular down to the method can be a pain in the ass." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://voodoods.github.io/blog/2021-10-18_testing-react-vs-angular/" />


    <title>
        
            Why Testing in React is superior to Angular :: Script Terror  â€” Mean rants by a software engineer building the web
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.17863a81d979b637a02cd7632a4d86e9d80563ef460fd6af1a56962efcaa066b.css">



    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="msapplication-TileColor" content="">
    <meta name="theme-color" content="">



<meta itemprop="name" content="Why Testing in React is superior to Angular">
<meta itemprop="description" content="Or: Why I hate unit testing in Angular Every good article needs to start with a click-baity title that polarizes the masses. And thus I can already feel an army of enfuriated Angular developers breathing down my neck as I write these lines.
Since you naturally practice TDD, bcause you&rsquo;re a responsible professional (even though you probably don&rsquo;t), you will know that testing logic Angular down to the method can be a pain in the ass."><meta itemprop="datePublished" content="2021-10-18T00:00:00+00:00" />
<meta itemprop="dateModified" content="2021-10-18T00:00:00+00:00" />
<meta itemprop="wordCount" content="889"><meta itemprop="image" content="https://voodoods.github.io"/>
<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://voodoods.github.io"/>

<meta name="twitter:title" content="Why Testing in React is superior to Angular"/>
<meta name="twitter:description" content="Or: Why I hate unit testing in Angular Every good article needs to start with a click-baity title that polarizes the masses. And thus I can already feel an army of enfuriated Angular developers breathing down my neck as I write these lines.
Since you naturally practice TDD, bcause you&rsquo;re a responsible professional (even though you probably don&rsquo;t), you will know that testing logic Angular down to the method can be a pain in the ass."/>




    <meta property="og:title" content="Why Testing in React is superior to Angular" />
<meta property="og:description" content="Or: Why I hate unit testing in Angular Every good article needs to start with a click-baity title that polarizes the masses. And thus I can already feel an army of enfuriated Angular developers breathing down my neck as I write these lines.
Since you naturally practice TDD, bcause you&rsquo;re a responsible professional (even though you probably don&rsquo;t), you will know that testing logic Angular down to the method can be a pain in the ass." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://voodoods.github.io/blog/2021-10-18_testing-react-vs-angular/" /><meta property="og:image" content="https://voodoods.github.io"/><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2021-10-18T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-10-18T00:00:00+00:00" /><meta property="og:site_name" content="Script Terror" />







    <meta property="article:published_time" content="2021-10-18 00:00:00 &#43;0000 UTC" />










    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">script terror</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about/">About</a></li><li><a href="/blog">Blog</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
        </span>
    </span>
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="https://voodoods.github.io/blog/2021-10-18_testing-react-vs-angular/">Why Testing in React is superior to Angular</a></h2>

            
            
            

            <div class="post-content">
                <h2 id="or-why-i-hate-unit-testing-in-angular">Or: Why I hate unit testing in Angular</h2>
<p>Every good article needs to start with a click-baity title that polarizes the masses. And thus I can already feel an army of enfuriated Angular developers breathing down my neck as I write these lines.</p>
<p>Since you naturally practice TDD, bcause you&rsquo;re a responsible professional (even though you probably don&rsquo;t), you will know that testing logic Angular down to the method can be a pain in the ass.</p>
<p>The syntax sugar coating of inheritance based architecture in Angular gives developers with a background in classical OOP languages both the warm comfortable feeling of familiarity (because god forbid they ever have to touch a technical concept that doesn&rsquo;t include a <code>class</code> keyword) as well as a bunch of pefectly fine excuses to not test their applications properly: Constructors, private methods, class properties, you name it.</p>
<p>Now I can already hear you make a headspin on your cheap IKEA office chair saying: &ldquo;Hold da eff up - you CAN perferctly test all of those things in Angular, maybe you&rsquo;re just not experienced enough to know how.&rdquo; - And while parts of that statement may be true I can assure you that I&rsquo;m just experienced enough to know that it is unnecessarly complex to do so and that we as developers - and yes that includes yourself - are lazy pricks that avoid unnecessary efforts at all costs. So chances are, even though you CAN test it, you probably WON&rsquo;T test it.</p>
<p>Before we dive any deeper into it, first things first: If you yourself happen to be an Angular developer and you still test your code with Karma + Jasmine, turn around right now and go fix your outdated test setup. Feel free to come back when you&rsquo;re ready to hang among the big boys. This is about unit testing with test runners that haven&rsquo;t had their hay day in the dark ages of the internet. Where we go to in this article, we preferably want to use <a href="https://jestjs.io/">Jest</a>.</p>
<p>Strap on your seat belts because it&rsquo;s gonna be a bumpy ride!</p>
<h2 id="the-difference-between-having-dependency-injection-and-not-having-to-rely-on-one">The difference between having dependency injection and not having to rely on one</h2>
<p>Let&rsquo;s have a quick look at the following example of a test file for a very ordinary Angular component:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">TestBed</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@angular/core&#39;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">LanguageSwitcherComponent</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;../components/language-switcher.component&#39;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">LanguageService</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;../services/language-service&#39;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">LanguageServiceMock</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;../services/mocks/language-service-mock&#39;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">LocalStorageService</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;../services/local-storage-service&#39;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">LocalStorageServiceMock</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;../services/mocks/local-storage-service-mock&#39;</span>;

<span style="color:#a6e22e">describe</span>(<span style="color:#e6db74">&#39;LanguageSwitcherComponent&#39;</span>, () <span style="color:#f92672">=&gt;</span> {
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">component</span>: <span style="color:#66d9ef">LanguageSwitcherComponent</span>;
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">fixture</span>: <span style="color:#66d9ef">ComponentFixture</span>&lt;<span style="color:#f92672">LanguageSwitcherComponent</span>&gt;;
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">languageService</span>: <span style="color:#66d9ef">LanguageServiceMock</span>;
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">localStorageService</span>: <span style="color:#66d9ef">LocalStorageServiceMock</span>;

  <span style="color:#a6e22e">beforeEach</span>(() <span style="color:#f92672">=&gt;</span> {
     <span style="color:#a6e22e">TestBed</span>.<span style="color:#a6e22e">configureTestingModule</span>({
       <span style="color:#a6e22e">providers</span><span style="color:#f92672">:</span> [
         { <span style="color:#a6e22e">provide</span>: <span style="color:#66d9ef">LocalStorageService</span>, <span style="color:#a6e22e">useClass</span>: <span style="color:#66d9ef">LocalStorageServiceMock</span> },
         { <span style="color:#a6e22e">provide</span>: <span style="color:#66d9ef">LanguageService</span>, <span style="color:#a6e22e">useClass</span>: <span style="color:#66d9ef">LanguageServiceMock</span> }
       ]
     });

     <span style="color:#a6e22e">languageService</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">TestBed</span>.<span style="color:#a6e22e">inject</span>(<span style="color:#a6e22e">LanguageService</span>);
     <span style="color:#a6e22e">localStorageServiceMock</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">TestBed</span>.<span style="color:#a6e22e">inject</span>(<span style="color:#a6e22e">LocalStorageServiceMock</span>);
     <span style="color:#a6e22e">fixture</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">TestBed</span>.<span style="color:#a6e22e">createComponent</span>(<span style="color:#a6e22e">LanguageSwitcherComponent</span>);
     <span style="color:#a6e22e">component</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">fixture</span>.<span style="color:#a6e22e">componentInstance</span>; 
  });
});
</code></pre></div><p>Holy crap, don&rsquo;t even get me started on this. Can you spot, what&rsquo;s off about this code? Let me give you a small hint: We&rsquo;re a staggering 27 lines in and we haven&rsquo;t even written a single test yet. And this is not even including the code for the mock classes I have to write to. How can writing a unit test require that amount of boilerplate code? I mean it&rsquo;s no like this is some kind of very complex use case for a component. We&rsquo;re talking about a simple lanugage switcher here: A dropdown select field where you can choose between a bunch of available locales to choose from and read or save your selection from or to the browser&rsquo;s local storage.</p>
<p>My best guess is, that somewhere deep down in Mountain View, CA, there probably sits a little tech lead - probably male, somewhere in his late 20s or early 30s - frowned upon for his &ldquo;leadership&rdquo; by his subordinates, unaknowledged for his &ldquo;accomplishments&rdquo; by his peers, sticking to architecture best practices from an era long forgotten, eaten up by frustration and inferiority complexes. If it was up to him, he should be leading the whole web tech division of the big G by now.</p>
<p>So one fateful day <em>his</em> superior walks up to his desk and says &ldquo;John, we need an overhaul of this frontend framework we have - our current version has become a total mess and the backend folks don&rsquo;t like it! We need you to come up with something fresh, flexible and backend engineer friendly!&rdquo;. This is it. This is the chance he&rsquo;s been waiting for, a way to finally prove his genius to the world. So John came up with a TypeScript based frontend framework containing the concept depency injection and thus doomed the santiy every frontend developer that ever dared to touch it.</p>
<p>Nevermind, I&rsquo;m getting carried away here. Let&rsquo;s look how the same thing would look in React:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts"><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">render</span>, <span style="color:#a6e22e">screen</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@testing-library/react&#39;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">userEvent</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@testing-library/user-event&#39;</span>
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">LanguageSwitcherComponent</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;../components/language-switcher.component&#39;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">LanguageService</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;../services/language-service&#39;</span>;
<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">LocalStorageService</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;../services/local-storage-service&#39;</span>;

<span style="color:#a6e22e">jest</span>.<span style="color:#a6e22e">mock</span>(<span style="color:#e6db74">&#39;LanguageService&#39;</span>, () <span style="color:#f92672">=&gt;</span> ({ <span style="color:#a6e22e">getAvailableLanguages</span>: <span style="color:#66d9ef">jest.fn</span>() });
<span style="color:#a6e22e">jest</span>.<span style="color:#a6e22e">mock</span>(<span style="color:#e6db74">&#39;LocalStorageService&#39;</span>);

<span style="color:#a6e22e">describe</span>(<span style="color:#e6db74">&#39;LanguageSwitcherComponent&#39;</span>, () <span style="color:#f92672">=&gt;</span> {
  <span style="color:#a6e22e">it</span>(<span style="color:#e6db74">&#39;gets all available languages from the language service on mount&#39;</span>, () <span style="color:#f92672">=&gt;</span> {
    <span style="color:#a6e22e">render</span>(&lt;<span style="color:#f92672">LanguageSwitcherComponent</span> /&gt;);
    <span style="color:#a6e22e">expect</span>(<span style="color:#a6e22e">LanguageService</span>.<span style="color:#a6e22e">getAvailableLanguages</span>).<span style="color:#a6e22e">toHaveBeenCalledTimes</span>(<span style="color:#ae81ff">1</span>);
  });
});
</code></pre></div><p>Boom, done. 10 lines of setup, and we&rsquo;re ready to go at line 11. Was that really so hard? Well it certainly doesn&rsquo;t have to be if you&rsquo;d just farwell to the idea that dependecy injection is necessary in order to write bug-free code in you frontend application. Look again at the examples. Think about it.</p>

            </div>
        </article>

        <hr />

        <div class="post-info">
            
            
  		</div>
    </main>

            </div>

            
                <footer class="footer">
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.599099f1f14b78b657d524b28e10e0c5098e7cd46e9c7aed73d577068a276c3ff1bb234cbf29cb313333e83cf411727b43157c91ce5b809e2ffc81664614608e.js" integrity="sha512-WZCZ8fFLeLZX1SSyjhDgxQmOfNRunHrtc9V3BoonbD/xuyNMvynLMTMz6Dz0EXJ7QxV8kc5bgJ4v/IFmRhRgjg=="></script>



    </body>
</html>
